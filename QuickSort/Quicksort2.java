package QuickSort;
import java.util.Random;
import java.util.Arrays;

public class Quicksort2 {
    public static void main(String[] args) {
        Random rndm = new Random();
        int[] numbers = new int[1000];

        for(int i = 0; i < numbers.length; i++) {
            numbers[i] = rndm.nextInt(1000);
        }
                System.out.println("Before:" + Arrays.toString(numbers));
                 

                quicksort(numbers, 0, numbers.length - 1);

                System.out.println("After:" + Arrays.toString(numbers));
                ;
        }


        private static void quicksort(int[] arr, int lowIndex, int highIndex) {
    
            if (lowIndex >= highIndex) {
                return;
            }
        
            int pivot = arr[highIndex];
            int leftPointer = part(arr, lowIndex, highIndex, pivot);

            quicksort(arr, lowIndex, leftPointer - 1);
            quicksort(arr, leftPointer + 1, highIndex);
        }
        
        
        private static int part(int[] arr, int lowIndex, int highIndex, int pivot) {

            int leftPointer = lowIndex;
            int rightPointer = highIndex -1;
        
            while (leftPointer < rightPointer) {
                while (arr[leftPointer] <= pivot && leftPointer < rightPointer) {
                    leftPointer++;
                    }
                while (arr[rightPointer] >= pivot && leftPointer < rightPointer) {
                    rightPointer--;
                    }
                swap (arr, leftPointer, rightPointer);
                }
        
            swap (arr, leftPointer, highIndex);
            return leftPointer;
        }

        
        private static void swap(int[] arr, int index1, int index2) {
            int temp = arr[index1];
            arr[index1] = arr[index2];
            arr[index2] = temp;
        }

   }

/*
Before:[97, 5, 83, 95, 55, 14, 27, 2, 72, 70, 72, 71, 55]
After:[2, 27, 5, 55, 14, 55, 70, 72, 71, 72, 83, 95, 97]
 */


 /*
data set of: 1,000 numbers

  Before:[999, 405, 934, 96, 550, 842, 25, 365, 250, 34, 728, 443, 926, 126, 486, 447, 511, 180, 257, 90, 773, 631, 569, 94, 862, 850, 957, 621, 945, 108, 585, 533, 221, 604, 848, 416, 911, 190, 386, 688, 514, 726, 123, 280, 158, 449, 992, 349, 311, 788, 126, 587, 913, 468, 665, 628, 597, 620, 590, 659, 147, 988, 989, 983, 772, 518, 518, 267, 938, 765, 607, 738, 502, 646, 111, 576, 806, 689, 938, 363, 401, 232, 82, 952, 600, 429, 766, 410, 123, 211, 505, 478, 413, 555, 914, 602, 398, 319, 156, 203, 827, 170, 569, 726, 179, 6, 320, 550, 408, 448, 119, 636, 360, 302, 559, 421, 360, 120, 147, 597, 372, 388, 492, 633, 709, 819, 237, 154, 159, 530, 685, 758, 766, 531, 614, 480, 821, 761, 849, 23, 122, 651, 276, 701, 825, 791, 794, 486, 52, 504, 229, 960, 164, 650, 746, 873, 702, 370, 840, 828, 517, 587, 655, 70, 847, 843, 505, 221, 463, 972, 672, 63, 119, 566, 596, 304, 240, 449, 734, 326, 344, 449, 831, 591, 894, 658, 614, 90, 372, 267, 50, 779, 138, 143, 20, 799, 267, 814, 15, 999, 54, 322, 295, 330, 444, 845, 892, 899, 928, 296, 145, 82, 512, 319, 549, 590, 7, 64, 758, 680, 804, 554, 588, 483, 754, 505, 201, 159, 469, 256, 19, 684, 526, 88, 164, 572, 259, 92, 86, 481, 30, 735, 430, 974, 24, 973, 964, 746, 130, 663, 124, 39, 928, 226, 412, 464, 35, 471, 362, 168, 393, 316, 746, 608, 682, 209, 321, 448, 426, 616, 913, 311, 814, 691, 649, 446, 917, 689, 263, 958, 996, 731, 989, 298, 46, 225, 886, 703, 687, 810, 91, 847, 315, 912, 351, 53, 431, 290, 811, 635, 539, 595, 846, 56, 499, 664, 661, 101, 841, 262, 939, 950, 433, 721, 645, 366, 945, 642, 13, 547, 802, 280, 584, 168, 679, 55, 534, 465, 705, 222, 454, 553, 172, 138, 732, 336, 402, 680, 408, 833, 962, 848, 955, 671, 973, 861, 728, 855, 853, 25, 421, 176, 969, 101, 5, 943, 633, 917, 780, 735, 259, 146, 190, 542, 816, 402, 644, 803, 647, 170, 556, 36, 411, 43, 156, 92, 347, 410, 138, 552, 638, 122, 459, 346, 680, 84, 462, 879, 262, 958, 396, 324, 626, 810, 207, 254, 267, 653, 556, 230, 493, 616, 158, 498, 816, 771, 808, 937, 599, 805, 79, 191, 544, 720, 338, 502, 747, 162, 215, 574, 352, 326, 883, 459, 834, 969, 989, 84, 586, 344, 127, 116, 289, 486, 266, 9, 517, 692, 966, 570, 271, 769, 619, 406, 119, 705, 686, 223, 181, 802, 923, 910, 325, 673, 284, 352, 222, 763, 443, 285, 439, 776, 466, 361, 334, 409, 388, 59, 559, 306, 15, 996, 365, 187, 201, 994, 624, 192, 36, 466, 619, 9, 112, 507, 48, 59, 627, 959, 955, 853, 655, 653, 856, 119, 32, 417, 369, 805, 424, 326, 128, 873, 122, 778, 334, 590, 31, 7, 798, 249, 56, 713, 800, 674, 800, 171, 53, 993, 701, 52, 348, 587, 716, 304, 528, 443, 142, 897, 622, 765, 794, 60, 366, 734, 672, 184, 141, 591, 463, 848, 404, 568, 788, 810, 818, 978, 649, 680, 641, 485, 861, 244, 655, 96, 773, 81, 523, 38, 615, 196, 185, 557, 582, 385, 620, 147, 431, 674, 343, 857, 271, 506, 561, 17, 583, 56, 306, 212, 141, 455, 790, 132, 880, 858, 773, 960, 567, 941, 85, 46, 95, 351, 245, 506, 576, 619, 70, 773, 714, 133, 304, 457, 209, 842, 470, 328, 602, 336, 351, 709, 521, 932, 18, 858, 825, 459, 253, 336, 535, 672, 658, 30, 739, 300, 55, 960, 27, 436, 856, 136, 790, 92, 75, 210, 698, 953, 240, 242, 859, 453, 683, 120, 601, 35, 520, 35, 924, 281, 977, 932, 343, 886, 942, 313, 166, 513, 346, 930, 717, 121, 518, 560, 414, 531, 61, 1, 30, 550, 532, 265, 830, 555, 707, 410, 545, 7, 19, 324, 518, 322, 438, 983, 644, 514, 118, 861, 188, 257, 779, 821, 864, 662, 293, 610, 663, 599, 698, 210, 929, 268, 916, 594, 701, 470, 706, 479, 821, 470, 906, 127, 754, 626, 400, 262, 314, 706, 157, 860, 986, 697, 654, 772, 810, 223, 368, 536, 716, 683, 861, 288, 471, 118, 254, 409, 742, 666, 821, 146, 369, 818, 182, 529, 741, 819, 146, 772, 965, 280, 359, 908, 820, 987, 839, 556, 949, 815, 642, 175, 937, 515, 699, 919, 524, 593, 373, 218, 709, 532, 136, 247, 344, 624, 540, 439, 778, 19, 712, 734, 720, 49, 752, 248, 949, 141, 17, 272, 214, 939, 209, 188, 203, 36, 192, 268, 660, 8, 989, 578, 373, 983, 255, 203, 968, 27, 193, 507, 582, 869, 816, 887, 841, 824, 756, 612, 161, 891, 913, 765, 737, 887, 985, 889, 877, 360, 375, 403, 11, 393, 762, 675, 34, 688, 341, 810, 523, 297, 807, 187, 419, 302, 652, 28, 259, 107, 375, 708, 140, 319, 610, 318, 890, 15, 892, 876, 740, 437, 405, 679, 948, 966, 537, 714, 913, 322, 279, 391, 887, 676, 572, 817, 576, 728, 153, 640, 385, 756, 710, 67, 923, 495, 369, 832, 157, 807, 719, 367, 155, 343, 878, 77, 933, 925, 292, 444, 61, 977, 960, 711, 910, 529, 419, 778, 150, 769, 58, 152, 409, 584, 571, 431, 898, 630, 538, 391, 549, 130, 823, 48, 838, 24, 749, 960, 368, 295, 1, 611, 675, 417, 397, 877, 149, 995, 488, 787, 836, 596, 796, 304, 509, 803, 788, 307, 892, 369, 200, 382, 280, 933, 151, 273, 34, 574, 991, 85, 866, 619, 715, 508, 702, 782, 538, 77, 984, 944, 992, 919, 547, 54, 531, 899, 98, 576, 724, 11, 509, 122, 624, 881, 257, 612, 59, 480, 418, 652, 720, 31, 335, 292, 558, 76, 19, 437, 90, 125, 787, 914, 373, 649, 921, 434]
After:[1, 1, 6, 5, 7, 7, 8, 7, 9, 9, 11, 13, 15, 15, 11, 15, 17, 17, 18, 19, 19, 20, 19, 23, 19, 24, 24, 25, 25, 27, 27, 30, 28, 30, 31, 30, 31, 32, 34, 34, 34, 35, 36, 35, 36, 35, 38, 36, 39, 43, 46, 46, 48, 50, 49, 52, 48, 52, 53, 54, 55, 54, 55, 53, 56, 56, 56, 58, 59, 59, 59, 61, 60, 63, 61, 64, 67, 70, 70, 75, 76, 77, 79, 81, 82, 82, 84, 77, 84, 85, 86, 85, 88, 90, 90, 90, 91, 92, 92, 92, 94, 95, 96, 98, 101, 101, 107, 108, 111, 112, 96, 116, 118, 118, 119, 119, 120, 119, 120, 119, 121, 122, 122, 122, 122, 123, 123, 124, 125, 126, 126, 127, 128, 130, 127, 130, 132, 133, 136, 136, 138, 138, 138, 140, 141, 141, 141, 142, 143, 145, 146, 146, 146, 147, 147, 147, 149, 150, 151, 152, 153, 154, 155, 156, 156, 157, 157, 158, 158, 159, 159, 161, 162, 164, 168, 168, 166, 170, 164, 171, 172, 175, 176, 179, 180, 181, 182, 170, 184, 185, 187, 188, 187, 190, 188, 190, 191, 192, 192, 196, 201, 203, 200, 203, 207, 203, 209, 193, 209, 201, 209, 210, 211, 210, 212, 214, 215, 218, 221, 221, 222, 222, 223, 223, 225, 226, 229, 230, 232, 237, 240, 240, 242, 244, 245, 247, 248, 250, 253, 249, 254, 255, 254, 256, 257, 257, 257, 259, 259, 262, 262, 262, 259, 263, 265, 266, 267, 267, 267, 268, 267, 268, 272, 271, 273, 271, 276, 279, 280, 280, 280, 281, 280, 284, 285, 288, 289, 290, 292, 293, 295, 292, 295, 296, 297, 298, 300, 302, 302, 304, 304, 304, 306, 304, 306, 307, 311, 311, 313, 314, 315, 316, 318, 319, 319, 319, 321, 320, 322, 322, 322, 324, 324, 325, 326, 326, 326, 328, 334, 330, 335, 334, 336, 336, 341, 343, 343, 343, 336, 344, 338, 344, 344, 346, 346, 347, 348, 349, 351, 351, 351, 352, 352, 359, 360, 360, 360, 361, 362, 363, 365, 365, 366, 367, 368, 366, 368, 369, 369, 369, 370, 369, 372, 372, 373, 373, 373, 375, 385, 375, 388, 385, 388, 382, 391, 386, 391, 393, 393, 396, 397, 398, 400, 401, 402, 402, 403, 404, 405, 405, 406, 408, 408, 409, 409, 409, 410, 410, 410, 412, 411, 413, 416, 414, 417, 417, 418, 419, 419, 424, 426, 429, 430, 431, 421, 431, 421, 431, 433, 434, 436, 437, 437, 438, 439, 439, 443, 443, 444, 443, 444, 446, 448, 449, 449, 448, 449, 447, 453, 454, 455, 457, 459, 459, 459, 462, 463, 464, 463, 465, 466, 466, 468, 469, 470, 470, 470, 471, 471, 478, 479, 480, 480, 481, 483, 486, 485, 486, 486, 488, 492, 493, 495, 498, 499, 502, 502, 504, 505, 505, 505, 506, 506, 507, 507, 508, 509, 509, 511, 512, 513, 515, 514, 517, 514, 518, 517, 518, 518, 518, 520, 523, 521, 523, 524, 526, 529, 528, 529, 530, 531, 531, 532, 532, 533, 534, 535, 531, 536, 537, 538, 538, 540, 539, 542, 544, 545, 547, 547, 549, 549, 550, 550, 550, 553, 552, 554, 555, 555, 556, 556, 558, 559, 559, 556, 560, 561, 566, 569, 567, 569, 568, 570, 572, 571, 572, 557, 574, 574, 576, 576, 576, 576, 578, 582, 582, 583, 584, 584, 585, 587, 586, 587, 587, 588, 590, 590, 590, 591, 591, 593, 595, 594, 596, 597, 597, 599, 596, 599, 600, 602, 601, 602, 604, 607, 608, 610, 610, 611, 612, 612, 614, 614, 616, 615, 619, 616, 619, 619, 619, 620, 621, 620, 622, 624, 624, 624, 626, 626, 627, 628, 631, 630, 633, 633, 635, 642, 641, 642, 638, 644, 640, 644, 636, 645, 646, 647, 649, 649, 649, 650, 651, 652, 652, 653, 653, 654, 655, 655, 655, 658, 658, 659, 660, 661, 662, 663, 664, 665, 666, 671, 663, 672, 672, 672, 673, 674, 675, 675, 674, 676, 679, 679, 680, 680, 680, 682, 683, 680, 683, 684, 685, 687, 686, 688, 688, 689, 689, 691, 697, 692, 698, 699, 698, 701, 701, 701, 702, 703, 705, 702, 705, 706, 706, 707, 708, 709, 709, 710, 709, 711, 712, 713, 714, 714, 715, 716, 716, 717, 720, 719, 720, 720, 721, 724, 726, 726, 728, 728, 728, 731, 732, 734, 734, 734, 735, 735, 737, 738, 739, 740, 746, 746, 741, 746, 742, 747, 749, 752, 754, 756, 756, 758, 754, 758, 761, 762, 763, 765, 766, 765, 766, 769, 769, 765, 771, 772, 772, 773, 773, 772, 773, 773, 776, 778, 778, 778, 779, 779, 780, 782, 787, 787, 788, 788, 788, 790, 790, 791, 794, 794, 798, 796, 799, 800, 802, 800, 802, 803, 803, 804, 806, 805, 807, 805, 807, 810, 810, 810, 810, 810, 808, 811, 814, 814, 815, 816, 816, 816, 817, 818, 819, 819, 818, 820, 821, 821, 821, 821, 823, 824, 825, 827, 825, 828, 830, 831, 832, 833, 834, 838, 839, 840, 841, 836, 841, 842, 842, 843, 846, 845, 847, 847, 848, 848, 849, 848, 850, 853, 853, 855, 856, 856, 857, 858, 859, 858, 860, 861, 861, 861, 861, 862, 866, 864, 869, 873, 873, 876, 877, 877, 878, 879, 880, 881, 883, 886, 886, 887, 887, 887, 889, 890, 891, 892, 892, 897, 892, 898, 894, 899, 899, 908, 906, 910, 911, 910, 912, 913, 913, 913, 914, 914, 913, 916, 917, 917, 919, 919, 921, 923, 923, 924, 925, 926, 928, 928, 929, 930, 932, 932, 933, 934, 937, 937, 938, 933, 938, 939, 939, 941, 943, 942, 945, 944, 945, 948, 949, 949, 952, 950, 953, 955, 955, 958, 958, 957, 959, 960, 960, 960, 962, 960, 964, 965, 966, 960, 966, 969, 968, 972, 973, 974, 977, 977, 973, 978, 983, 983, 983, 985, 984, 986, 987, 988, 989, 989, 989, 969, 989, 991, 992, 992, 993, 994, 995, 996, 999, 999, 996]
  */