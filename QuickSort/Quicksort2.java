package QuickSort;
import java.util.Random;
import java.util.Arrays;

public class Quicksort2 {
    public static void main(String[] args) {
        Random rndm = new Random();
        int[] numbers = new int[1000];

        for(int i = 0; i < numbers.length; i++) {
            numbers[i] = rndm.nextInt(1000);
        }
                System.out.println("Before:" + Arrays.toString(numbers));
                 

                quicksort(numbers, 0, numbers.length - 1);

                System.out.println("After:" + Arrays.toString(numbers));
                ;
        }


        private static void quicksort(int[] arr, int lowIndex, int highIndex) {
    
            if (lowIndex >= highIndex) {
                return;
            }
        
            int pivot = arr[highIndex];
            int leftPointer = part(arr, lowIndex, highIndex, pivot);

            quicksort(arr, lowIndex, leftPointer - 1);
            quicksort(arr, leftPointer + 1, highIndex);
        }
        
        
        private static int part(int[] arr, int lowIndex, int highIndex, int pivot) {

            int leftPointer = lowIndex;
            int rightPointer = highIndex -1;
        
            while (leftPointer < rightPointer) {
                while (arr[leftPointer] <= pivot && leftPointer < rightPointer) {
                    leftPointer++;
                    }
                while (arr[rightPointer] >= pivot && leftPointer < rightPointer) {
                    rightPointer--;
                    }
                swap (arr, leftPointer, rightPointer);
                }
        
                if(arr[leftPointer] > arr[highIndex]) {
                    swap(arr, leftPointer, highIndex);

                } else {
                    leftPointer = highIndex;
                }
                return leftPointer;
        }

        
        private static void swap(int[] arr, int index1, int index2) {
            int temp = arr[index1];
            arr[index1] = arr[index2];
            arr[index2] = temp;
        }

   }

/*
Before:[97, 5, 83, 95, 55, 14, 27, 2, 72, 70, 72, 71, 55]
After:[2, 27, 5, 55, 14, 55, 70, 72, 71, 72, 83, 95, 97]
 */


 /*
data set of: 1,000 numbers
Before:[271, 151, 61, 994, 312, 184, 51, 49, 939, 633, 854, 141, 695, 273, 811, 83, 437, 39, 420, 458, 339, 616, 645, 375, 46, 118, 485, 254, 660, 188, 811, 542, 924, 974, 714, 678, 514, 885, 91, 579, 883, 752, 77, 395, 785, 214, 292, 196, 459, 120, 739, 70, 77, 780, 775, 791, 559, 515, 449, 165, 348, 260, 95, 70, 874, 170, 905, 467, 816, 664, 499, 699, 505, 293, 595, 764, 772, 747, 329, 852, 837, 593, 622, 541, 404, 952, 138, 671, 624, 178, 166, 864, 887, 710, 715, 678, 412, 680, 949, 245, 166, 318, 695, 596, 377, 334, 772, 66, 236, 259, 599, 374, 318, 830, 512, 580, 429, 216, 492, 3, 357, 805, 119, 851, 465, 981, 913, 236, 177, 613, 634, 545, 464, 594, 3, 172, 88, 157, 307, 27, 580, 674, 90, 104, 394, 803, 798, 894, 900, 129, 39, 639, 690, 802, 521, 522, 293, 446, 30, 930, 954, 659, 149, 882, 489, 665, 795, 133, 904, 416, 100, 994, 161, 573, 742, 356, 942, 172, 939, 111, 996, 199, 17, 406, 515, 140, 623, 90, 768, 916, 518, 845, 380, 88, 761, 421, 245, 718, 19, 972, 623, 138, 516, 35, 519, 296, 231, 607, 196, 325, 275, 108, 266, 453, 812, 110, 444, 614, 141, 70, 941, 500, 829, 377, 476, 638, 963, 605, 194, 606, 543, 644, 632, 814, 318, 51, 73, 910, 609, 412, 426, 546, 83, 288, 786, 679, 37, 569, 474, 686, 56, 882, 298, 545, 254, 354, 252, 995, 902, 821, 10, 429, 418, 411, 103, 858, 655, 837, 444, 219, 200, 73, 330, 879, 774, 439, 687, 346, 96, 83, 23, 895, 987, 667, 912, 648, 527, 699, 498, 402, 38, 572, 529, 413, 314, 211, 641, 137, 713, 53, 364, 877, 591, 752, 562, 896, 233, 133, 966, 10, 225, 106, 601, 325, 595, 620, 382, 437, 651, 169, 169, 726, 440, 75, 221, 789, 809, 553, 632, 7, 131, 88, 509, 125, 716, 102, 29, 49, 943, 535, 731, 346, 84, 280, 67, 771, 331, 545, 78, 899, 29, 968, 733, 501, 432, 144, 79, 543, 437, 49, 370, 647, 959, 936, 554, 281, 713, 455, 728, 910, 716, 736, 601, 911, 949, 986, 817, 535, 664, 814, 525, 78, 11, 676, 459, 706, 808, 622, 222, 583, 304, 238, 505, 543, 905, 571, 927, 213, 308, 759, 189, 475, 749, 684, 253, 580, 624, 956, 512, 156, 500, 896, 919, 483, 7, 240, 781, 400, 646, 610, 844, 730, 815, 933, 515, 42, 669, 677, 673, 556, 671, 25, 682, 893, 926, 879, 187, 534, 192, 802, 186, 254, 718, 514, 375, 158, 214, 98, 25, 173, 918, 550, 766, 812, 254, 499, 739, 988, 848, 576, 292, 915, 799, 282, 97, 534, 377, 422, 622, 992, 251, 392, 629, 353, 887, 744, 121, 2, 92, 356, 202, 12, 867, 880, 864, 296, 129, 481, 245, 377, 342, 826, 932, 814, 80, 390, 224, 323, 900, 532, 99, 311, 979, 361, 124, 529, 885, 559, 787, 571, 781, 50, 756, 233, 321, 635, 861, 859, 900, 54, 510, 213, 737, 998, 36, 688, 78, 249, 426, 57, 555, 14, 149, 887, 470, 418, 347, 986, 980, 954, 983, 423, 405, 114, 851, 16, 637, 580, 234, 768, 171, 341, 624, 668, 32, 425, 569, 741, 693, 982, 171, 146, 121, 950, 306, 899, 878, 79, 518, 792, 575, 877, 210, 879, 256, 822, 787, 573, 762, 54, 715, 219, 337, 961, 321, 330, 84, 246, 343, 138, 297, 755, 80, 131, 922, 474, 436, 383, 368, 787, 465, 263, 546, 36, 71, 105, 330, 900, 72, 459, 396, 213, 795, 66, 36, 55, 412, 699, 115, 9, 105, 298, 710, 266, 187, 729, 675, 693, 399, 384, 360, 692, 0, 507, 938, 508, 35, 489, 391, 806, 919, 632, 808, 301, 407, 86, 879, 875, 269, 827, 121, 814, 844, 290, 575, 344, 714, 350, 831, 580, 624, 137, 258, 932, 152, 136, 82, 928, 802, 386, 330, 680, 99, 367, 450, 243, 26, 598, 581, 24, 552, 798, 848, 585, 908, 974, 634, 288, 880, 808, 875, 258, 483, 872, 610, 584, 948, 914, 950, 428, 103, 937, 353, 656, 464, 556, 340, 914, 769, 660, 899, 579, 977, 928, 935, 663, 172, 593, 265, 480, 169, 81, 890, 715, 924, 566, 636, 988, 575, 797, 171, 268, 279, 722, 678, 456, 882, 163, 29, 974, 560, 916, 438, 897, 445, 118, 895, 579, 785, 712, 58, 386, 161, 975, 544, 859, 270, 457, 467, 563, 631, 742, 165, 397, 174, 247, 438, 141, 189, 185, 598, 379, 179, 851, 80, 76, 742, 146, 686, 266, 310, 654, 647, 539, 700, 245, 938, 407, 742, 149, 885, 602, 392, 255, 462, 762, 104, 39, 262, 787, 909, 992, 325, 510, 253, 692, 590, 760, 370, 529, 120, 278, 208, 991, 285, 855, 574, 206, 219, 946, 495, 637, 468, 717, 284, 181, 797, 311, 312, 388, 400, 478, 935, 69, 845, 330, 907, 420, 724, 875, 940, 983, 384, 917, 731, 777, 200, 161, 644, 760, 471, 648, 974, 126, 6, 320, 681, 708, 555, 281, 682, 762, 785, 417, 565, 132, 731, 107, 520, 199, 622, 951, 232, 489, 234, 603, 787, 581, 700, 238, 73, 62, 203, 805, 895, 163, 205, 127, 833, 425, 414, 171, 236, 694, 389, 761, 85, 49, 2, 166, 737, 264, 119, 673, 346, 441, 51, 906, 571, 521, 533, 419, 769, 795, 683, 310, 373, 217, 662, 917, 778, 894, 449, 233, 752, 396, 695, 866, 122, 384, 159, 606, 586, 51, 117, 717, 103, 756, 822, 728, 480, 497, 103, 473, 168, 797, 594, 902, 798, 219, 894, 376, 143, 520, 553, 312, 418, 671, 405, 16, 8, 446, 669, 591, 550, 613, 387, 174, 425, 7, 87, 592, 885, 65, 829, 583, 170, 687, 764, 529, 251, 606, 271, 666, 276, 44, 553, 714, 383, 611, 618, 695, 219, 365, 696, 365, 995, 978, 380, 258]
After:[0, 2, 2, 3, 3, 6, 7, 7, 7, 8, 9, 10, 10, 11, 12, 14, 16, 16, 17, 19, 23, 24, 25, 25, 26, 27, 29, 29, 29, 30, 32, 35, 35, 36, 36, 36, 37, 38, 39, 39, 39, 42, 44, 46, 49, 49, 49, 49, 50, 51, 51, 51, 51, 53, 54, 54, 55, 56, 57, 58, 61, 62, 65, 66, 66, 67, 69, 70, 70, 70, 71, 72, 73, 73, 73, 75, 76, 77, 77, 78, 78, 78, 79, 79, 80, 80, 80, 81, 82, 83, 83, 83, 84, 84, 85, 86, 87, 88, 88, 88, 90, 90, 91, 92, 95, 96, 97, 98, 99, 99, 100, 102, 103, 103, 103, 103, 104, 104, 105, 105, 106, 107, 108, 110, 111, 114, 115, 117, 118, 118, 119, 119, 120, 120, 121, 121, 121, 122, 124, 125, 126, 127, 129, 129, 131, 131, 132, 133, 133, 136, 137, 137, 138, 138, 138, 140, 141, 141, 141, 143, 144, 146, 146, 149, 149, 149, 151, 152, 156, 157, 158, 159, 161, 161, 161, 163, 163, 165, 165, 166, 166, 166, 168, 169, 169, 169, 170, 170, 171, 171, 171, 171, 172, 172, 172, 173, 174, 174, 177, 178, 179, 181, 184, 185, 186, 187, 187, 188, 189, 189, 192, 194, 196, 196, 199, 199, 200, 200, 202, 203, 205, 206, 208, 210, 211, 213, 213, 213, 214, 214, 216, 217, 219, 219, 219, 219, 219, 221, 222, 224, 225, 231, 232, 233, 233, 233, 234, 234, 236, 236, 236, 238, 238, 240, 243, 245, 245, 245, 245, 246, 247, 249, 251, 251, 252, 253, 253, 254, 254, 254, 254, 255, 256, 258, 258, 258, 259, 260, 262, 263, 264, 265, 266, 266, 266, 268, 269, 270, 271, 271, 273, 275, 276, 278, 279, 280, 281, 281, 282, 284, 285, 288, 288, 290, 292, 292, 293, 293, 296, 296, 297, 298, 298, 301, 304, 306, 307, 308, 310, 310, 311, 311, 312, 312, 312, 314, 318, 318, 318, 320, 321, 321, 323, 325, 325, 325, 329, 330, 330, 330, 330, 330, 331, 334, 337, 339, 340, 341, 342, 343, 344, 346, 346, 346, 347, 348, 350, 353, 353, 354, 356, 356, 357, 360, 361, 364, 365, 365, 367, 368, 370, 370, 373, 374, 375, 375, 376, 377, 377, 377, 377, 379, 380, 380, 382, 383, 383, 384, 384, 384, 386, 386, 387, 388, 389, 390, 391, 392, 392, 394, 395, 396, 396, 397, 399, 400, 400, 402, 404, 405, 405, 406, 407, 407, 411, 412, 412, 412, 413, 414, 416, 417, 418, 418, 418, 419, 420, 420, 421, 422, 423, 425, 425, 425, 426, 426, 428, 429, 429, 432, 436, 437, 437, 437, 438, 438, 439, 440, 441, 444, 444, 445, 446, 446, 449, 449, 450, 453, 455, 456, 457, 458, 459, 459, 459, 462, 464, 464, 465, 465, 467, 467, 468, 470, 471, 473, 474, 474, 475, 476, 478, 480, 480, 481, 483, 483, 485, 489, 489, 489, 492, 495, 497, 498, 499, 499, 500, 500, 501, 505, 505, 507, 508, 509, 510, 510, 512, 512, 514, 514, 515, 515, 515, 516, 518, 518, 519, 520, 520, 521, 521, 522, 525, 527, 529, 529, 529, 529, 532, 533, 534, 534, 535, 535, 539, 541, 542, 543, 543, 543, 544, 545, 545, 545, 546, 546, 550, 550, 552, 553, 553, 553, 554, 555, 555, 556, 556, 559, 559, 560, 562, 563, 565, 566, 569, 569, 571, 571, 571, 572, 573, 573, 574, 575, 575, 575, 576, 579, 579, 579, 580, 580, 580, 580, 580, 581, 581, 583, 583, 584, 585, 586, 590, 591, 591, 592, 593, 593, 594, 594, 595, 595, 596, 598, 598, 599, 601, 601, 602, 603, 605, 606, 606, 606, 607, 609, 610, 610, 611, 613, 613, 614, 616, 618, 620, 622, 622, 622, 622, 623, 623, 624, 624, 624, 624, 629, 631, 632, 632, 632, 633, 634, 634, 635, 636, 637, 637, 638, 639, 641, 644, 644, 645, 646, 647, 647, 648, 648, 651, 654, 655, 656, 659, 660, 660, 662, 663, 664, 664, 665, 666, 667, 668, 669, 669, 671, 671, 671, 673, 673, 674, 675, 676, 677, 678, 678, 678, 679, 680, 680, 681, 682, 682, 683, 684, 686, 686, 687, 687, 688, 690, 692, 692, 693, 693, 694, 695, 695, 695, 695, 696, 699, 699, 699, 700, 700, 706, 708, 710, 710, 712, 713, 713, 714, 714, 714, 715, 715, 715, 716, 716, 717, 717, 718, 718, 722, 724, 726, 728, 728, 729, 730, 731, 731, 731, 733, 736, 737, 737, 739, 739, 741, 742, 742, 742, 742, 744, 747, 749, 752, 752, 752, 755, 756, 756, 759, 760, 760, 761, 761, 762, 762, 762, 764, 764, 766, 768, 768, 769, 769, 771, 772, 772, 774, 775, 777, 778, 780, 781, 781, 785, 785, 785, 786, 787, 787, 787, 787, 787, 789, 791, 792, 795, 795, 795, 797, 797, 797, 798, 798, 798, 799, 802, 802, 802, 803, 805, 805, 806, 808, 808, 808, 809, 811, 811, 812, 812, 814, 814, 814, 814, 815, 816, 817, 821, 822, 822, 826, 827, 829, 829, 830, 831, 833, 837, 837, 844, 844, 845, 845, 848, 848, 851, 851, 851, 852, 854, 855, 858, 859, 859, 861, 864, 864, 866, 867, 872, 874, 875, 875, 875, 877, 877, 878, 879, 879, 879, 879, 880, 880, 882, 882, 882, 883, 885, 885, 885, 885, 887, 887, 887, 890, 893, 894, 894, 894, 895, 895, 895, 896, 896, 897, 899, 899, 899, 900, 900, 900, 900, 902, 902, 904, 905, 905, 906, 907, 908, 909, 910, 910, 911, 912, 913, 914, 914, 915, 916, 916, 917, 917, 918, 919, 919, 922, 924, 924, 926, 927, 928, 928, 930, 932, 932, 933, 935, 935, 936, 937, 938, 938, 939, 939, 940, 941, 942, 943, 946, 948, 949, 949, 950, 950, 951, 952, 954, 954, 956, 959, 961, 963, 966, 968, 972, 974, 974, 974, 974, 975, 977, 978, 979, 980, 981, 982, 983, 983, 986, 986, 987, 988, 988, 991, 992, 992, 994, 994, 995, 995, 996, 998]
  */